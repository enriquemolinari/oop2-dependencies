# Técnicas de Desacoplamiento en Objetos

- Inyección de Dependencias
- Ejemplo Export
    - Path al archivo hardcodeado
    - Dependencia en Users hardcodeada
    - Dependencia en exportar a Archivo hardcodeada
    - ¿Cómo testeo? Acoplado a todo esto. No es bueno.
        - No tengo buen control
        - Acceso a disco es lento
- Ejemplo Pagos Online
    - URL hardcodeada
    - Tipo de pago hardcodeado
    - ¿Cómo lo testeo sin cobrar de verdad?
    - Aplicamos inyección:
        - Quick Fix: Movemos inicialización al constructor.
        - Refactor: Introduce parameter (me cambia solito el setup del test)
    - Aplicamos Depender de Abtracciones:
        - Extract Interface sobre Paypal
    - Mostramos como puedo hacer un *Fake* de PagoOnline
        - Algo similar usando [Mockito](https://central.sonatype.com/artifact/org.mockito/mockito-core).
- Desacoplar lógica de negocios de detalles técnicos
- A que denominamos detalle técnico:
    - Acceso al disco (leer o escribir archivos)
    - Acceso al teclado
    - Acceso a una Base de Datos (JDBC)
    - Consumo de servicios Web
    - Enviar de emails, imprimir, etc.
- Testing del modelo desacoplado de detalles técnicos

- Sandy Metz about Minimalist Testing
    - https://www.youtube.com/watch?v=URSWYvyc42M